(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[616],{28575:function(e,t,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signup",function(){return i(44559)}])},62668:function(e,t,i){"use strict";var n=i(85893),r=i(9008),a=i.n(r),s=i(46807);t.Z=function(e){var t=e.children,i=e.title;return(0,n.jsxs)(s.lx,{children:[(0,n.jsxs)(a(),{children:[(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,n.jsx)("title",{children:i})]}),(0,n.jsx)(s.lx,{w:"100vw",maxW:"100%",h:"100vh",children:t})]})}},92659:function(e,t,i){"use strict";var n=i(26042),r=i(69396),a=i(85893),s=i(25675),l=i.n(s),o=i(46807);t.Z=function(e){return(0,a.jsx)(o.lx,(0,r.Z)((0,n.Z)({h:"200px",w:"200px"},e),{children:(0,a.jsx)(l(),{src:"/icons/tris_logo.png",alt:"Tris Logo",height:"200px",width:"200px"})}))}},44559:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return L}});var n=i(47568),r=i(14924),a=i(26042),s=i(69396),l=i(34051),o=i.n(l),c=i(85893),u=i(67294),d=i(25675),p=i.n(d),h=i(46807),x=i(62668),m=i(79762),f=i(42846),g=i(15031);function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},b.apply(this,arguments)}var v=["className","rows"],j=["h","minH","height","minHeight"],w=(0,f.Gp)((function(e,t){var i=(0,f.mq)("Textarea",e),n=(0,f.Lr)(e),r=n.className,a=n.rows,s=function(e,t){if(null==e)return{};var i,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(r[i]=e[i]);return r}(n,v),l=(0,m.Yp)(s),o=a?(0,g.CE)(i,j):i;return u.createElement(f.m$.textarea,b({ref:t,rows:a},l,{className:(0,g.cx)("chakra-textarea",r),__css:o}))}));g.Ts&&(w.displayName="Textarea");var y=i(68527),C=i(4612),N=i(92684),k=i(15193),S=i(89238),U=i(92659),R=i(55162),I=i(54617),Z=i(63501),z=i(11163),T=function(e){var t=e.name,i=e.value,n=e.onChange,r=e.title,s=e.props,l=e.width,o=e.disabled,u=e.placeholder,d=e.minWidth,p=e.size,h=e.isBio,x=e.isReqiured,m=void 0!==x&&x;return(0,c.jsxs)(y.xu,{display:"flex",justifyContent:"start",width:null!==l&&void 0!==l?l:"50%",bg:"rgba(216, 222, 233, 0.2)",minWidth:null!==d&&void 0!==d?d:"300px",borderRadius:"15px",flexDirection:"column",css:{backdropFilter:"blur(20px)"},children:[(0,c.jsx)(y.xv,{fontSize:"1.1em",color:"lightgrey",pl:"10px",children:r}),h?(0,c.jsx)(w,{disabled:o,required:m,maxLength:300,fontSize:"1.4em",name:t,style:(0,a.Z)({},s),value:i,minHeight:p,onChange:n,display:"inline-block",variant:"unstyled",placeholder:null!==u&&void 0!==u?u:"....",size:p,pl:"10px"}):(0,c.jsx)(C.II,{disabled:o,required:m,fontSize:"1.4em",name:t,style:(0,a.Z)({},s),value:i,onChange:n,display:"inline-block",variant:"unstyled",placeholder:null!==u&&void 0!==u?u:"....",size:p,pl:"10px"})]})},_=function(){return(0,c.jsxs)(h.lx,{w:"100%",h:"20%",mt:"10px",display:"flex",alignItems:"center",justifyContent:"start",children:[(0,c.jsx)(U.Z,{mt:"45px"}),(0,c.jsxs)(y.xv,{fontFamily:"Megrim",fontSize:"8em",children:["Tris",(0,c.jsxs)(y.xv,{fontFamily:"Shadows Into Light",fontSize:"0.2em",children:["The"," ",(0,c.jsx)("span",{style:{fontWeight:"bold",textAlign:"center"},children:"web3"})," ","social media platform!"]})]}),(0,c.jsx)(N.c,{breakpoint:"(max-width: 1100px)",children:(0,c.jsxs)(h.lx,{fontWeight:"semibold",flexDirection:"column",display:"flex",alignItems:"end",pr:"30px",justifyContent:"end",ml:"auto",alignSelf:"end",children:[(0,c.jsx)(y.xv,{fontSize:"1.7em",color:"#cacccf",children:"Start for free"}),(0,c.jsx)(y.xv,{fontSize:"2.3em",children:"Tell us more about yourself."})]})})]})},E=function(){var e=(0,z.useRouter)(),t=(0,u.useState)(!1),i=t[0],l=t[1],d=(0,u.useContext)(Z.AppState).state,x=(0,u.useState)([]),m=x[0],f=x[1];(0,u.useEffect)((function(){return function(){m.forEach((function(e){return URL.revokeObjectURL(e.preview)}))}}),[m]);var g=(0,u.useState)({firstName:"",avatarUrl:"",lastName:"",email:"",bio:"",userName:""}),b=g[0],v=g[1],j=function(e){v((function(t){return(0,s.Z)((0,a.Z)({},t),(0,r.Z)({},e.target.name,e.target.value))}))},w=function(){var t=(0,n.Z)(o().mark((function t(i){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i.preventDefault(),l(!0),void 0===m[0]){t.next=7;break}return t.next=5,(0,I.cT)({file:m[0]}).then((function(t){var i={name:b.firstName+" "+b.lastName,avatarUrl:t,email:b.email,bio:b.bio,userName:b.userName,wallUrl:""};d.UserContract.methods.createUser(d.account,i.name,i.userName,i.avatarUrl,i.email,i.bio,i.wallUrl).send({from:d.account,gasPrice:"40000000000"}).on("receipt",(function(i){console.log(i),console.log("This is receipt return values, ",i.events.UserCreated.returnValues),console.log("This is receipt, ",i),console.log("This is the cid :: ",t),window.localStorage.setItem("isAuthenticated","true"),e.replace("/")}))}));case 5:t.next=8;break;case 7:n={name:b.firstName+" "+b.lastName,avatarUrl:"",email:b.email,bio:b.bio,userName:b.userName,wallUrl:""},d.UserContract.methods.createUser(d.account,n.name,n.userName,n.avatarUrl,n.email,n.bio,n.wallUrl).send({from:d.account}).once("receipt",(function(t){window.localStorage.setItem("isAuthenticated","true"),e.replace("/")}));case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),C=(0,R.uI)({onDrop:function(e){var t=e[0];f(e.map((function(e){return Object.assign(e,{preview:URL.createObjectURL(e)})}))),v((function(e){return(0,s.Z)((0,a.Z)({},e),{profilePic:t})})),console.log(t.size.toString()),console.log(t.name)}}),U=C.getRootProps,E=C.getInputProps,L=C.isDragActive;return(0,c.jsx)(h.lx,{h:"100vh",w:"100%",display:"flex",alignItems:"center",justifyContent:"center",children:(0,c.jsxs)(y.xu,{h:"90%",display:"flex",flexDirection:"column",alignItems:"start",justifyContent:"start",w:"95%",borderRadius:"20px",css:{backdropFilter:"blur(20px)"},children:[(0,c.jsx)(_,{}),(0,c.jsxs)(y.kC,{as:"form",onSubmit:w,h:"70%",w:"100%",mt:"auto",children:[(0,c.jsxs)(y.xu,{h:"100%",w:"60%",p:"20px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"35px",children:[(0,c.jsxs)(y.kC,{w:"100%",justifyContent:"space-evenly",children:[(0,c.jsx)(T,{disabled:i,isReqiured:!0,title:"First name",name:"firstName",value:b.firstName,onChange:j,placeholder:"First name",props:{height:"50px"},width:"45%",minWidth:"300px"}),(0,c.jsx)(T,{disabled:i,isReqiured:!0,title:"Last name",name:"lastName",value:b.lastName,onChange:j,placeholder:"Last name",props:{height:"50px"},width:"45%",minWidth:"300px"})]}),(0,c.jsxs)(y.kC,{w:"100%",justifyContent:"space-evenly",children:[(0,c.jsx)(T,{disabled:i,isReqiured:!0,title:"Username",name:"userName",value:b.userName,onChange:j,placeholder:"Username",props:{height:"50px"},width:"45%",minWidth:"300px"}),(0,c.jsx)(T,{title:"Email",disabled:i,name:"email",value:b.email,onChange:j,placeholder:"Email",props:{height:"50px"},width:"45%",minWidth:"300px"})]}),(0,c.jsx)(T,{disabled:i,title:"Bio",name:"bio",value:b.bio,onChange:j,placeholder:"Bio",props:{height:"50px"},isBio:!0,size:"150px",width:"93%",minWidth:"300px"})]}),(0,c.jsx)(N.di,{breakpoint:"(min-height: 750px)",children:(0,c.jsx)(N.c,{breakpoint:"(max-width: 1090px)",children:(0,c.jsxs)(h.lx,{h:"100%",w:"40%",display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",children:[(0,c.jsxs)("div",(0,s.Z)((0,a.Z)({style:{marginTop:"15%",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",height:"200px",width:"300px",cursor:"pointer",borderRadius:"100%"}},U()),{children:[(0,c.jsx)("input",(0,a.Z)({disabled:i,style:{cursor:"pointer"}},E())),null==m[0]?L?(0,c.jsx)(y.xu,{backgroundColor:"blackAlpha.100",height:"100%",width:"100%",style:{borderRadius:"20px"},display:"flex",alignItems:"center",justifyContent:"center",border:"3px dotted grey",children:"Drop here"}):(0,c.jsx)(y.xu,{backgroundColor:"blackAlpha.100",height:"100%",width:"100%",style:{borderRadius:"20px"},display:"flex",alignItems:"center",justifyContent:"center",border:"3px dotted grey",children:"Upload Image"}):(0,c.jsx)(p(),{src:m[0].preview,layout:"fill",style:{borderRadius:"20px"}})]})),(0,c.jsx)(k.hE,{mt:"auto",mb:"15%",children:(0,c.jsx)(k.zx,{disabled:i,type:"submit",borderRadius:"30px",variant:"filled",bg:"rgba(216, 222, 233, 0.2)",fontSize:"1.4em",css:{backdropFilter:"blur(10px)"},h:"50px",w:"150px",children:i?(0,c.jsx)(S.$,{color:"primary",size:"sm",style:{marginRight:"10px"}}):(0,c.jsx)("span",{children:"Submit"})})})]})})})]})]})})};E.getLayout=function(e){return(0,c.jsx)(x.Z,{title:"Tris - Sign up",children:e})};var L=E}},function(e){e.O(0,[237,774,888,179],(function(){return t=28575,e(e.s=t);var t}));var t=e.O();_N_E=t}]);